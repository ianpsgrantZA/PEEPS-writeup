\chapter{Smartphones as Population Density Trackers}
\label{chap:lit-review}
Modern smartphones provide unparalleled opportunities for people to access ever innovating services. This in turn creates a volatility that makes the mobile landscape of the future difficult to predict and many are unsure what form it will take even in the near future. This chapter aims to provide an understanding of this industrial landscape and outline the demand and technical description of crowd-sourced mobile applications and their ability to analyse and predict population density.

\section{Smartphone Access and Development}

The rise in competition within the low-priced smartphone market from brands like Huawei and Samsung have created a revolution in South Africa in terms of Internet access. As of 2019, over 91\% of South Africans have access to a smartphone and all the global connectivity that accompanies it \cite{ICASA2020}. This combined with near total 3G network coverage \cite{ICASA2020} means that almost all South Africans have become part of the online smartphone application ecosystem. Cheap data-based communication applications like WhatsApp and Facebook Messenger have largely replaced SMS, and revolutionary services like Uber and UberEats have had a similar effect on the taxicab and food delivery industries. Contemporary smartphone applications have sculpted our way of life and this trend is accelerating as we increasingly understand the type of advancements the smartphone revolution has in store for us.

\subsection{App Development}
Android and iOS app development has never been easier than it now is, with the release of first-party toolsets like Android Studio and Xcode which allow anyone with the slightest programming background to start working on their application idea. Access to a global market where the barrier for entry for businesses is low and the potential customer base is in the billions \cite{Turner}, has made smartphone application development a priority for companies wanting access to this \$311.25 billion market \cite{AlliedMarketResearch2019}.

South Africa is no exception to this economic surge, having over four thousand apps available on the Google Play Store with nearly 200 million downloads across them \cite{42matters}. Unfortunately, expensive data prices are a major obstacle preventing South Africa from reaching its potential in harnessing the economic benefits of smartphones. South Africa is ranked 148th out of 228 countries in terms of mobile data prices\cite{Cable.co.uk}, which may not seem that prohibitive when compared to the United States (188th) and New Zealand (180th) \cite{Cable.co.uk}, but doesn't take into account the large proportion of the population who can only purchase data in smaller packages. Data when purchased in the 10s of Gigabytes may not be that bad a deal, but South Africa's large impoverished population is forced to buy data at disproportionately expensive prices due to mobile data's exploitative pricing structure. 
Despite prohibitive data price-structures, the number of smartphone application downloads is likely to accelerate moving forward, due to the Competition Commission's order on mobile-service operators to lower their exorbitant data prices. The implementation of this order has created an average price drop of 33\% across all affected data packages \cite{Bottomley2020}. The continued adoption of smartphones and lowered data prices is likely to accelerate South Africa's application development marketplace into a thriving economic sector in the near future.

\subsection{Smartphone Technology}
A smartphone's convenience is in a large part due to the considerable number of sensors at its disposal. While the number and types of sensors vary from phone to phone, there are several sensors that are seen as necessary, by the market, for a smartphone to feel complete. 

\begin{table}[]
    \begin{tabular}{lll}
    \hline
    \textbf{Sensor} & \textbf{Function}                                       & \textbf{Prevalence} \\ \hline
    Accelerometer   & Detects acceleration and vibration.                     & High                \\
    Ambient Light   & Determines ambient light levels.                        & High                \\
    Barometer       & Measures air pressure.                                  & Low                 \\
    Bluetooth       & Used for data exchange over short distances.            & High                \\
    Camera          & Used to take optical images.                            & High                \\
    Cellular        & Used to connect to cellular networks.                   & High                \\
    Fingerprint     & Biometric sensor used to verify user's identity.        & Low                 \\
    GPS             & Determines geographical position.                       & High                \\
    Gyroscope       & Detects orientation and rotation.                       & High                \\
    Heart Rate      & Detects user's heart rate.                              & Low                 \\
    Magnetometer    & Detects magnetic fields.                                & High                \\
    Microphone      & Detects and records sound.                              & High                \\
    Proximity       & Uses infrared light to detect proximity to device.      & High                \\
    Thermometer     & Monitors internal temperature.                          & High                \\
    Touchscreen     & Capacitive sensors that detect interaction with screen. & High                \\
    Wi-Fi           & Used to connect to local Wi-Fi hotspots.                & High                \\ \hline
    \end{tabular}
    \caption{List of sensors found in smartphones and their market prevalence \cite{Priyadarshini2018}.}
    \label{tab:lit_sensors}
\end{table}

Many newer smartphones tend to market themselves either on the fidelity of their sensors, often in the case of cameras, or the existence of a newly added one. An example of companies using newer sensors to sell devices is the iPhone 12 Pro's incorporation of a LiDAR sensor to be used for more immersive AR experiences \cite{Stein2020}. The sheer number of sensors in smartphones provides developers plenty of opportunities for creative methods of solving problems. This can mean that for determining the smartphone's location, an application could use a combination of GPS, Cellular, Wi-fi and Bluetooth sensors to create a moderately accurate approximation of the user's current position.

\section{Location Tracking}
Location tracking refers to the ability of devices to use sensors, like GPS and Wi-Fi, to determine their geographical location. With the popularisation of the smartphone over the last two decades, and its increasing reliance on a multitude of built in sensors, apps installed on these devices have unparalleled access to location tracking services. Some of these services are hard to avoid given how much power they give to the user in terms of services. Services like Google Maps allow the user not only to determine their own location, but also use data from millions of other users to construct an accurate approximation of the population densities of individual locations. This section will explore the location tracking methods relevant to this project as well as contemporary examples of services that implement these tracking mechanisms.

\subsection{Methods of Tracking}
There are two primary mechanisms of determining your location via mobile connection: position-tracking services and position-aware services \cite{Barkhuus2003}. Position-tracking services use an external party's resources to track and maintain the locational data relevant to the user, while position-aware services use the user's device's own diagnostic capabilities to determine its location \cite{Barkhuus2003}. Both services have their own advantages, but are typically implemented in different scenarios.  

PocketFinder is an example of a position-tracking service that uses a small GPS beacon to determine the location of a loved one or pet. The beacon receives telemetry data from GPS satellites and nearby Wi-Fi signals and uses this data to triangulate the device's location. This data is then displayed on one or more users' mobile devices allowing them always to know the location of whoever has the tracker. This method of location tracking has the upside that it does not rely on any of the phone's built-in sensors. This protects against device failure and allows the tracking capabilities to surpass the capabilities of the mobile device. However, the cost of the method is steep, requiring external tools to do the work that a mobile device is more than equipped for.

While most location tracking services use a combination of cellular, Wi-Fi and GPS sensors, there are plenty of additional sensors which can increase the accuracy of population tracking services. Bluetooth surveillance is a method of tracking users' locations that relies on the built-in Bluetooth sensors of each user's phone \cite{BLE2004}. It generally involves the placement of a beacon which periodically scans for nearby Bluetooth devices and uses this data to approximate how many individuals are nearby. While newer versions of Bluetooth drivers allow for some amount of anonymity while keeping Bluetooth scanning on, if this `hidden mode' is not active, these beacons can be used to determine the owner of the phone being scanned. This creates plenty of ethical concerns related to user privacy and the commercialisation of user-data. Even phones themselves could be used as dedicated Bluetooth tracking beacons, scanning nearby devices for user information. This type of location tracking was not implemented by this project because of the ethical consequences of such tracking mechanisms.

\subsection{Existing Services}
While smartphone apps like Google Maps, Waze and Apple Maps present the obvious benefits of location tracking, there are plenty of apps that use this data to provide the user with services that are unique to the gathering of location-data. Peg Log is such an app, created to perform psychological research using location data gathered from study participants \cite{Geyer2019}. Since location data has been proven to be predictive of both a user's individual differences \cite{Chorley2015} and the possibility of depressive behaviour \cite{Saeb2016}, Peg Log could be used as the basis for an app that can prevent self-harming from occurring with individuals.

Find My Friends is an app that uses location data to promote safety and security amongst its users. The app allows you to share your location in real-time with specific people. This implementation of location tracking provides users with safety measures when in unknown environments, or with new people. Such an app is particularly useful in the South African context, where anxiety around the possibility of a crime being committed can be reduced by having others know your location.

The success of mobile games, like Pokemon Go and Ingress, shows that location data has a lot to offer to the field of augmented reality (AR). AR is an interactive experience that mixes our real-world perceptions with augmented sensory information provided by computing devices \cite{WilliamsII2017}. Location data is used in the examples above to provide a virtual overlay of our geographic location and supplement it with interactive experiences. Because location data, in this instance, is used as a base from which an experience can be manufactured, the possibilities for its application are extensive. One such application could be the implementation of location-based AR in simulated environments, like for military training, or allowing a user to explore distant locations with real-time movement.

\subsection{Location Tracking APIs}
Phones have plenty of tools at their disposal capable of determining their location, from using sensors like GPS, GSM and Wi-Fi to systems that manipulate data gathered from temperature and humidity sensors. Services like the Google Maps API tend to use a hybrid of these systems to minimise resource cost and maximise accuracy. The resulting robustness of Google's location services has made it the de facto method for location integration with over 2 million websites using the API \cite{BuiltWith}. While it does allow companies \$200 of free usage a month, beyond that you will need to pay a premium to continue having it integrated into your service. This makes the Google Maps API an enticing option for those wishing to quickly implement location services, but for large position-tracking services, it becomes a cost sink that will keep expanding with the userbase.

\begin{table}[]
    \begin{tabular}{lll}
    \hline
    \textbf{Service} & \textbf{Selling point}                                                                                                     & \textbf{Price}                                                                                      \\ \hline
    Google Maps      & \begin{tabular}[c]{@{}l@{}}Robust positional tools. \\ Simple mobile application integration.\end{tabular}                 & \begin{tabular}[c]{@{}l@{}}\$200 free monthly \\ requests then PPR\\ (pay-per-request)\end{tabular} \\ \hline
    OpenLayers       & \begin{tabular}[c]{@{}l@{}}Offers basic maps cheaply. \\ Has all the basic map functionality. \\ Open Source.\end{tabular} & Free                                                                                                \\ \hline
    TomTom           & \begin{tabular}[c]{@{}l@{}}Everything offered by OpenLayers, \\ but with strong navigational services.\end{tabular}        & \begin{tabular}[c]{@{}l@{}}2,500 free monthly \\ requests then PPR\end{tabular}                     \\ \hline
    Mapbox           & \begin{tabular}[c]{@{}l@{}}API of choice for Facebook and Snapchat.\\ Can use custom-made maps.\end{tabular}               & \begin{tabular}[c]{@{}l@{}}50,000 free daily \\ requests then PPR\end{tabular}                      \\ \hline
    Here             & \begin{tabular}[c]{@{}l@{}}Extensive map visualisation options. \\ Public transit data.\end{tabular}                       & \begin{tabular}[c]{@{}l@{}}250,000 free monthly \\ requests then PPR\end{tabular}                   \\ \hline
    Mapfit           & \begin{tabular}[c]{@{}l@{}}Extreme locational accuracy. \\ Can provide inner-building detail.\end{tabular}                 & \begin{tabular}[c]{@{}l@{}}50,000 monthly \\ non-commercial\\ requests then PPR\end{tabular}        \\ \hline
    \end{tabular}
    \caption{Comparison between location-tracking services \cite{Bush2018}.}
    \label{tab:lit_location_comp}
\end{table}

While there are many alternatives to the Google's location-tracking behemoth, each has its own positives and trade-offs. OpenLayers, in particular, provides newer companies with a service that can be implemented easily with no cost scaling besides server maintenance. Since it is built on JavaScript, it is possible to create a webapp with fully functioning location services without propriety APIs. While webapps do miss out on a multitude of smartphone specific functionality, their ability to function on any internet connected device makes them highly scalable. Mapbox also provides an enticing alternative to Google Maps for newer developers. Mapbox's custom-map functionality provides developers with an innovative tool to try new ideas while allowing them a plenitude of free daily requests.

\subsection{Accuracy and Reliability}
Services implementing location tracking on smartphones all have a similar issue with the accuracy of the readings being reliant on the GPS, Cellular and Wi-Fi sensors. As a result, the accuracy of the location gathering ability of smartphones will differ greatly. While smartphones with better sensors will produce more accurate results, the fidelity of a particular smartphone's sensors is difficult for applications to determine. The accuracy can also depend on how populated the area being surveyed is, or on how many large structures are nearby \cite{Merry2019}. 

A study testing the accuracy of iPhone 6's location discovery ability found that the average error in horizontal position to be in the range of 7-13 meters \cite{Merry2019}. While this number appeared consistent over the course of a year, the accuracy did improve temporarily in the afternoons. If we take this number as a baseline for the accuracy of smartphone location services, the problem of using smartphones as highly accurate location beacons is apparent. A variation of 13 meters could place an individual on the wrong road or in the wrong house which could hamper some location services' ability to provide accurate information to the user about their surroundings. The accuracy of a user's location could be increased, however, by increasing the number of readings and the time over which they are taken. This leaves open the opportunity for apps that require accurate readings but which can be taken over the course of a couple of minutes or hours.


\section{Data Acquisition}
Our collective overreliance on the use of smartphones has led them to become an extension of our own thoughts and desires. They store our calendars, our shopping lists, our photos, and our private conversations. In this, they also store desirable data for companies to be used in various applications including revenue collection through advertising, and diagnostic data used to improve their own applications. This enticing amalgamation of information has led to an explosive number of free smartphone apps that use the user's personal information and telemetric data as payment for their services. This has placed consumers in a predicament where they must choose between their privacy, or anonymity, and the countless number of useful applications which will inevitably raise their standard of living. 

\subsection{Crowd Sourced Data}
The increasing global popularity of smartphones has made them prime conduits for sourcing large amounts of unique data points. Each app download is not only a potential revenue stream for its owner, but also a contributor to a wider network of information. This has led to the rise of crowd-sourced applications which can be found in abundance on both Android and iOS app-stores.

Crowd-sourcing is defined by Merriam-Webster as "the practice of obtaining needed services, ideas, or content by soliciting contributions from a large group of people" \cite{Merriam-Webster}. This definition indicates that there are a few key criteria that a smartphone app needs to meet in order for it to implementing crowd-sourcing. Firstly, it must be collecting data that is being used to provide a service to its customers, itself or a third party. Secondly, it must have a large enough install-base so that the data gathered is useful. While the first aspect is easy to implement, the success of any crowd sourcing application depends on its ability to accrue a large enough user base for the data gathered to be useful. An app which reviews destinations, for example, is only useful if it has enough user reviews for the app to provide meaningful reviews to its audience. 

An example of a successful crowd-sourcing smartphone application is Zomato, which crowd-sources restaurant reviews and uses them to help customers choose where to eat. With nearly 10 million reviews, Zomato's large user-base provides both the company and its users with diverse and statistically significant information on where to buy food. The success of this app also demonstrates the cyclic nature of crowd-sourcing applications. As you accrue more users, the data that you crowdsource is more useful which incentivises more users to join. However, the contrary is also true: if you fail to achieve a high enough user-base, the information you provide will not be useful enough to sustain your audience and, hence, your audience will shrink indefinitely.

Crowd-sourcing apps are therefore incentivised to gather proxies for their desired information to bolster their database. Smartphones' diverse set of sensors, detailed in Table 1, provide the option for apps to find non-conventional methods of accruing data. As an example, the crowd-sourced application Pothole Patrol, developed by MIT for monitoring road surfaces, uses a combination of location services and the phone'ss built-in vibration sensors to track and report pothole locations \cite{eriksson2008pothole}. While the acceleration data gathered by the vibration sensors would not normally be used for this type of analysis, smartphone sensors provide developers with the ability to solve design decisions in interesting and innovative ways. 

\subsection{Data Storage and Server Solutions}
Because of the resources needed to maintain a dedicated server, third party server and database solutions are often employed to jumpstart networked app development. These solutions tend to be very cost efficient for low volumes of data transfer but become costly when the volumes of data balloon over time. Hence it is an important choice between implementing a dedicated server or renting the resources instead.

\begin{table}[!htbp]
    \begin{tabular}{lll}
    \hline
    \textbf{Service}                                              & \textbf{Features}                                                                                                                                               & \textbf{Pricing}                                                                                                    \\ \hline
    \begin{tabular}[c]{@{}l@{}}Amazon Web\\ Services\end{tabular} & \begin{tabular}[c]{@{}l@{}}High scalability options. \\ Over 76 global server locations. \\ Dynamic and resizable resources.\end{tabular}                       & \begin{tabular}[c]{@{}l@{}}Limited free tier available. \\ Multiple payment formats \\ to choose from.\end{tabular} \\ \hline
    Microsoft Azure                                               & \begin{tabular}[c]{@{}l@{}}Ability to mix local and cloud \\ infrastructure. \\ Machine learning integration.\end{tabular}                                      & \begin{tabular}[c]{@{}l@{}}Some free services. \\ Paid services are pay as \\ you go.\end{tabular}                  \\ \hline
    Google Cloud                                                  & \begin{tabular}[c]{@{}l@{}}Google services integration \\ (advertising, search, etc). \\ Android app integration. \\ Machine learning integration.\end{tabular} & \begin{tabular}[c]{@{}l@{}}Pay as you go with free \\ trial.\end{tabular}                                           \\ \hline
    \end{tabular}
    \caption{List of third-party server solutions and their features.}
    \label{tab:lit_servers}
\end{table}

The solutions presented in Table \ref{tab:lit_servers} are very similar in their functionality, so the choice may depend principally on the pricing structure. However, if data security and authority over your resources is paramount to your goal, a dedicated server may be more suited to your use-case as you would have complete control over its implementation.

\subsection{Smartphone User Privacy}
The number of sensors present in smartphones, as shown in Table \ref{tab:lit_sensors}, means that this small handheld device gathers a disproportionate amount of information belonging to the user. This combined with smartphones' "always-on" feature and persistent internet connection means that there is plenty of opportunities for users' information to be stolen. Google's Android and Apple's iOS have converged in their response to this potential privacy threat by providing the user with the authority to grant or deny apps' access to important sensors like GPS, and an app's ability to start services immediately after a device has booted \cite{RR-1393-DARPA}. However, these permissions do not cover all types of sensitive data. Android notably does not have permission requirements for apps to connect online or to set phone alarms. Moreover, one of the more egregious of these privacy violations is the possibility of an app to scan the Android device for all packages installed without any permissions. This data could be used to identify both the user of the phone, and particular vulnerable packages which can be hijacked to conduct malicious acts on the user's device\cite{RR-1393-DARPA}. 

Both Google and Apple have taken steps to prevent data theft by encrypting storage and data transmission, but these methods of protection still have gaps in their security strength. Any sort of data protection implementations by these OS manufacturers are however no replacement for user vigilance. Should the user allow a particular app permission to access their sensory data and accept the app's terms and conditions, there is not much one can do to prevent their taking and analysing personal information. The only solution for the user would be to uninstall the application.

Location information constitutes some of the most sensitive and valuable data gathered by smartphones. Besides determining your current location, this data can be used to calculate your identity, place of residence, work, diet, and social circles. This makes locational data both important for legitimate apps like Uber and Maps, while also being incredibly valuable to third-party advertising companies and malicious actors like scammers. In 2015, the Pew Research Center studied the habits of smartphone users and found that 90\% of smartphone users use apps that rely on locational data, up from 74\% in 2013 \cite{Anderson2016}. However, even if you turn off your Android devices location services, Google will still intermittently upload your location to their database, making complete anonymity impractical without considerable effort \cite{AssociatedPress2018}.
